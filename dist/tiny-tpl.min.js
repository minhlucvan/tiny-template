!function(t){function e(t,e){if(!t&&"object"!=typeof t&&"string"!=typeof e)throw new Error("unexpected type passing to function getDeepValue.");var n=e.split("."),a=t;return n.forEach(function(t){a=a&&a.hasOwnProperty(t)?a[t]:null}),a}function n(t){var e=t.indexOf(f),n=t.indexOf(c,e),a=t.substring(e+3,n);return a.length<=0||0>e||0>n?"":a}function a(t,n){var a=n,r=e(t,a);return"string"!=typeof t&&"number"!=typeof t||a!=p||(r=t),null==r&&(r=s),r}function r(e,r,i,o){for(var p=t(e),s=n(r),u=r,h=0;s.length>0&&1e4>h;){var l=a(i,s);u=u.replace(f+s+c,l),s=n(u),h++}p.append(u)}function i(e,n,a){if(a&&a.animate){var r=a.animate;switch(r){case d:t(e).fadeOut();break;case y:t(e).hide()}}}function o(n,a,r){var i=t(n).find("[data-"+h+"]");if(i.each(function(n){var r=t(this).data(h),i=t(this).data(l),o=e(a[n],i);try{t(this).tinyTpl(o,r)}catch(f){console.error("can not render child template.")}}),r&&r.animate){var o=r.animate;switch(o){case d:t(n).fadeIn();break;case y:t(n).fadeIn()}}r&&"function"==typeof r.postScript&&r.postScript(n,a)}var f="{% ",c=" %}",p="value",s="",u=".tiny-pined",h="template",l="field",d="fade",y="fadein";t.fn.tinyTpl=function(e,n,a){if("string"==typeof e||e){Array.isArray(e)||(e=[e]),"object"==typeof n&&(a=n),"string"!=typeof n&&(n=t(this).data(h));var f=t(n);if(0==f.length)throw new Error("can not find template: "+n);var c="";c="text/template"==f.attr("type")?f.html():f.get(0).outerHTML,t(this).children().not(u).remove();var p=this;i(this,e,a),e.forEach(function(t){r(p,c,t,a)}),o(this,e,a)}}}(jQuery);
